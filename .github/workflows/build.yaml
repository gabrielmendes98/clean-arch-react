name: build
on: 
  workflow_call:
    inputs:
      should-upload-artifact:
        description: 'Should upload artifact'
        required: false
        default: false
        type: boolean

jobs:
  build:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Install deps
        uses: ./.github/actions/install-deps
      - name: Build
        id: build
        run: yarn build
      - name: Upload build folder
        if: ${{ inputs.should-upload-artifact == 'true' }}
        uses: actions/upload-artifact@v3
        with:
          name: build
          path: build
          retention-days: 1

